<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flash Intelligence</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg: radial-gradient(circle at 20% 15%, rgba(255,255,255,0.85), transparent 55%),
             radial-gradient(circle at 80% -10%, rgba(184,210,255,0.25), transparent 45%),
             #f5f7fa;
      --ink: #040506;
      --muted: rgba(4,5,6,0.58);
      --line: rgba(4,5,6,0.08);
      --panel: rgba(255,255,255,0.92);
      --accent: #0d0d0d;
      --pointer-x: 52%;
      --pointer-y: 28%;
    }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--ink);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }
    a { color: inherit; text-decoration: none; }
    .surface {
      position: relative;
      z-index: 1;
      width: min(1200px, 94vw);
      margin: 0 auto;
      padding: 72px 0 120px;
      display: grid;
      gap: 80px;
    }
    .ambient {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
    }
    .ambient::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at var(--pointer-x) var(--pointer-y), rgba(255,255,255,0.58), rgba(184,210,255,0.12) 52%, transparent 70%);
      filter: blur(90px);
      opacity: 0.85;
      animation: ambientPulse 18s ease-in-out infinite;
    }
    .ambient::after {
      content: "";
      position: absolute;
      inset: -20%;
      background: radial-gradient(circle at 60% 42%, rgba(132,160,255,0.18), transparent 72%);
      filter: blur(120px);
      opacity: 0.6;
    }
    .ambient .grid {
      position: absolute;
      inset: -12%;
      background-image: linear-gradient(rgba(4,5,6,0.08) 1px, transparent 1px), linear-gradient(90deg, rgba(4,5,6,0.08) 1px, transparent 1px);
      background-size: 80px 80px;
      opacity: 0.28;
      transform: translate3d(0,0,0);
      animation: gridDrift 32s linear infinite;
    }
    .ambient .halo {
      position: absolute;
      width: clamp(320px, 42vw, 540px);
      height: clamp(320px, 42vw, 540px);
      border-radius: 50%;
      border: 1px solid rgba(4,5,6,0.08);
      background: radial-gradient(circle, rgba(255,255,255,0.22) 0%, transparent 68%);
      mix-blend-mode: screen;
      animation: haloSpin 26s linear infinite;
    }
    .ambient .halo-one {
      top: 18%;
      right: 18%;
    }
    .ambient .halo-two {
      bottom: 12%;
      left: 14%;
      width: clamp(240px, 32vw, 420px);
      height: clamp(240px, 32vw, 420px);
      animation-duration: 34s;
      animation-direction: reverse;
    }
    @keyframes ambientPulse {
      0%, 100% { opacity: 0.6; }
      45% { opacity: 0.95; }
    }
    @keyframes gridDrift {
      0% { transform: translate3d(0, 0, 0); }
      100% { transform: translate3d(-120px, -160px, 0); }
    }
    @keyframes haloSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }
    .brand {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .brand span {
      font-size: 12px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .brand h1 {
      font-size: clamp(46px, 9vw, 96px);
      font-weight: 100;
      letter-spacing: 0.32em;
      text-transform: uppercase;
    }
    nav {
      display: flex;
      gap: 18px;
    }
    .nav-link {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 24px;
      border-radius: 999px;
      border: 1px solid var(--line);
      letter-spacing: 0.2em;
      text-transform: uppercase;
      font-size: 12px;
      background: rgba(255,255,255,0.92);
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .nav-link:hover {
      transform: translateY(-2px);
      background: rgba(4,5,6,0.92);
      color: #fff;
    }
    .instrument {
      display: grid;
      gap: 40px;
    }
    @media (min-width: 960px) {
      .instrument {
        grid-template-columns: 280px minmax(0, 1fr) 320px;
        gap: 32px;
        align-items: start;
      }
    }
    .panel {
      border: 1px solid var(--line);
      border-radius: 28px;
      background: var(--panel);
      backdrop-filter: blur(16px);
      padding: 36px;
      display: grid;
      gap: 18px;
      transform: translate3d(0, 0, 0);
      transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .panel:hover {
      transform: translateY(-4px);
      box-shadow: 0 28px 50px rgba(4,5,6,0.12);
    }
    .panel h2 {
      font-size: 16px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .stats {
      display: grid;
      gap: 14px;
    }
    .stat {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px solid var(--line);
      padding-bottom: 10px;
    }
    .stat span {
      font-size: 12px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .stat strong {
      font-size: 20px;
      font-weight: 300;
    }
    .instrument-copy {
      font-size: 16px;
      line-height: 1.7;
      color: var(--muted);
    }
    .gauge-panel {
      position: relative;
      display: grid;
      gap: 22px;
      justify-items: center;
    }
    .gauge {
      width: min(320px, 60vw);
      aspect-ratio: 1;
      border-radius: 50%;
      background: conic-gradient(var(--accent) var(--angle, 180deg), rgba(4,5,6,0.12) 0);
      display: grid;
      place-items: center;
      box-shadow: 0 40px 60px rgba(4,5,6,0.15);
    }
    .gauge::before {
      content: "";
      width: 78%;
      aspect-ratio: 1;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,255,255,0.7) 45%, rgba(4,5,6,0.05) 78%);
      box-shadow: inset 0 -20px 32px rgba(4,5,6,0.06);
    }
    .gauge::after {
      content: "";
      position: absolute;
      inset: 18%;
      border-radius: 50%;
      background: radial-gradient(circle at 50% 30%, rgba(255,255,255,0.55), transparent 70%);
      opacity: 0.65;
      pointer-events: none;
    }
    .gauge-value {
      position: absolute;
      text-align: center;
      display: grid;
      gap: 6px;
    }
    .gauge-value span {
      font-size: 12px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .gauge-value strong {
      font-size: 44px;
      font-weight: 200;
      letter-spacing: 0.12em;
    }
    .stage-board {
      display: grid;
      gap: 24px;
    }
    .stage-head {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 24px;
    }
    .stage-meta {
      display: grid;
      gap: 8px;
    }
    .tag {
      display: inline-flex;
      align-items: center;
      padding: 6px 16px;
      border-radius: 999px;
      border: 1px solid var(--line);
      font-size: 12px;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      background: rgba(255,255,255,0.92);
      color: var(--muted);
    }
    .stage-score {
      font-size: 12px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .segmented {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .segmented button {
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 12px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      background: rgba(255,255,255,0.96);
      cursor: pointer;
      transition: background 0.25s ease, color 0.25s ease, border 0.25s ease, transform 0.25s ease;
    }
    .segmented button:hover {
      transform: translateY(-2px);
    }
    .segmented button.active {
      background: var(--accent);
      color: #fff;
      border-color: rgba(4,5,6,0.2);
    }
    .weights {
      display: grid;
      gap: 16px;
    }
    .weight-row {
      display: grid;
      grid-template-columns: 120px 1fr auto;
      align-items: center;
      gap: 16px;
    }
    .weight-row label {
      font-size: 12px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .weight-bar {
      height: 6px;
      border-radius: 999px;
      background: rgba(4,5,6,0.08);
      overflow: hidden;
    }
    .weight-fill {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, var(--accent), rgba(4,5,6,0.45));
      transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .weight-value {
      font-size: 12px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
      text-align: right;
    }
    .score-note {
      border: 1px solid rgba(4,5,6,0.12);
      border-radius: 18px;
      background: rgba(255,255,255,0.96);
      padding: 16px;
      font-size: 14px;
      line-height: 1.6;
      color: rgba(4,5,6,0.65);
    }
    .pillars-section {
      display: grid;
      gap: 22px;
    }
    .samples {
      display: grid;
      gap: 20px;
    }
    @media (min-width: 960px) {
      .samples { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    .sample-card {
      border: 1px solid rgba(4,5,6,0.12);
      border-radius: 24px;
      padding: 22px;
      background: rgba(255,255,255,0.96);
      display: grid;
      gap: 8px;
      cursor: pointer;
      transform: translate3d(0, 0, 0);
      transition: transform 0.35s ease, border 0.3s ease, box-shadow 0.35s ease;
      animation: floatCard 22s ease-in-out infinite;
    }
    .sample-card:hover, .sample-card.active {
      transform: translateY(-6px);
      border-color: rgba(4,5,6,0.25);
      box-shadow: 0 18px 40px rgba(4,5,6,0.12);
    }
    .sample-meta {
      font-size: 12px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: rgba(4,5,6,0.45);
    }
    .sample-prob {
      font-size: 18px;
      font-weight: 400;
    }
    .samples .sample-card:nth-child(3n+1) { animation-duration: 24s; animation-delay: -4s; }
    .samples .sample-card:nth-child(3n+2) { animation-duration: 26s; animation-delay: -8s; }
    .samples .sample-card:nth-child(3n) { animation-duration: 28s; animation-delay: -12s; }
    @keyframes floatCard {
      0%, 100% { transform: translate3d(0, 0, 0); }
      50% { transform: translate3d(0, -8px, 0); }
    }
    .timeline {
      position: relative;
      display: grid;
      gap: 20px;
      padding-left: 32px;
    }
    .timeline::before {
      content: "";
      position: absolute;
      left: 10px;
      top: 0;
      bottom: 0;
      width: 1px;
      background: linear-gradient(180deg, rgba(4,5,6,0.2), rgba(4,5,6,0));
    }
    .timeline-step {
      position: relative;
      padding-left: 22px;
      display: grid;
      gap: 6px;
      opacity: 0.68;
      transition: opacity 0.35s ease, transform 0.4s ease;
    }
    .timeline-step::before {
      content: "";
      position: absolute;
      left: -22px;
      top: 6px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(4,5,6,0.18);
      box-shadow: 0 0 0 0 rgba(4,5,6,0.08);
      transition: box-shadow 0.4s ease, background 0.4s ease, transform 0.4s ease;
    }
    .timeline-step strong {
      font-size: 12px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: rgba(4,5,6,0.58);
    }
    .timeline-step p {
      font-size: 14px;
      color: rgba(4,5,6,0.62);
      line-height: 1.6;
      max-width: 520px;
    }
    .timeline-step.active {
      opacity: 1;
      transform: translateX(6px);
    }
    .timeline-step.active::before {
      background: var(--accent);
      box-shadow: 0 0 0 8px rgba(4,5,6,0.08);
      transform: scale(1.08);
    }
    .cta {
      border-radius: 30px;
      padding: 48px;
      background: linear-gradient(135deg, rgba(4,5,6,0.92), rgba(4,5,6,0.78));
      color: #fff;
      text-align: center;
      display: grid;
      gap: 16px;
    }
    .cta h2 {
      font-size: clamp(28px, 4vw, 40px);
      font-weight: 200;
    }
    .cta p {
      font-size: 16px;
      color: rgba(255,255,255,0.72);
    }
    .cta a {
      justify-self: center;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 30px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.28);
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-size: 12px;
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .cta a:hover {
      transform: translateY(-3px);
      background: rgba(255,255,255,0.12);
    }
    footer {
      text-align: center;
      font-size: 12px;
      letter-spacing: 0.26em;
      text-transform: uppercase;
      color: rgba(4,5,6,0.42);
    }
    @media (max-width: 720px) {
      .panel { padding: 28px; }
      .stage-head { flex-direction: column; gap: 18px; }
      .segmented { justify-content: flex-start; }
      .weight-row { grid-template-columns: 1fr; gap: 10px; }
      .weight-value { justify-self: start; }
    }
    @media (prefers-reduced-motion: reduce) {
      .ambient::before,
      .ambient::after,
      .ambient .grid,
      .ambient .halo,
      .sample-card,
      .samples .sample-card:nth-child(3n+1),
      .samples .sample-card:nth-child(3n+2),
      .samples .sample-card:nth-child(3n),
      .panel {
        animation: none !important;
        transition-duration: 0.001ms !important;
      }
    }
  </style>
</head>
<body>
<script>(function(){try{if('serviceWorker' in navigator){navigator.serviceWorker.getRegistrations().then(function(r){r.forEach(function(sw){sw.unregister()})});}if(window.caches&&caches.keys){caches.keys().then(function(k){k.forEach(function(n){caches.delete(n)})});}}catch(e){}})();</script>
  <div class="ambient">
    <div class="grid"></div>
    <div class="halo halo-one"></div>
    <div class="halo halo-two"></div>
  </div>
  <div class="surface">
    <header>
      <div class="brand">
        <span>Flash Intelligence</span>
        <h1>Flash</h1>
      </div>
      <nav>
        <a class="nav-link" href="camp.html">CAMP</a>
        <a class="nav-link" href="camp-models.html">Models</a>
        <a class="nav-link" href="camp-frameworks.html">Frameworks</a>
        <a class="nav-link" href="camp-progressive.html">Progressive</a>
      </nav>
    </header>

    <section class="instrument">
      <div class="panel">
        <h2>Signal Stack</h2>
        <div class="stats">
          <div class="stat"><span>Core ensembles</span><strong>3</strong></div>
          <div class="stat"><span>Stage specialists</span><strong>5</strong></div>
          <div class="stat"><span>Sector specialists</span><strong>9</strong></div>
          <div class="stat"><span>Standardized features</span><strong>126</strong></div>
        </div>
        <div class="instrument-copy">CAMP blends these signals with pillar weighting to produce the fundability verdict every founder sees.</div>
      </div>

      <div class="panel gauge-panel">
        <div class="gauge" id="gauge" style="--angle: 0deg;"></div>
        <div class="gauge-value">
          <span>Fundability</span>
          <strong id="scoreValue">0</strong>
        </div>
        <div class="instrument-copy" id="scoreSummary">Your first proof points are about speed and resilience. Show weekly product motion, early retention sparks, and a path to efficient growth.</div>
      </div>

      <div class="panel stage-board">
        <div class="stage-head">
          <div class="stage-meta">
            <div class="tag" id="stageLabel">Pre-Seed Focus</div>
            <div class="stage-score" id="stageScore">Target Score • 68</div>
          </div>
          <div class="segmented" role="tablist" aria-label="Stage selector">
            <button data-stage="0" class="active" role="tab" aria-selected="true">Pre‑Seed</button>
            <button data-stage="1" role="tab" aria-selected="false">Seed</button>
            <button data-stage="2" role="tab" aria-selected="false">Series A</button>
            <button data-stage="3" role="tab" aria-selected="false">Series B+</button>
          </div>
        </div>
        <div class="weights">
          <div class="weight-row">
            <label>Capital</label>
            <div class="weight-bar">
              <div class="weight-fill" id="fillCapital"></div>
            </div>
            <div class="weight-value" id="valueCapital">10%</div>
          </div>
          <div class="weight-row">
            <label>Advantage</label>
            <div class="weight-bar">
              <div class="weight-fill" id="fillAdvantage"></div>
            </div>
            <div class="weight-value" id="valueAdvantage">30%</div>
          </div>
          <div class="weight-row">
            <label>Market</label>
            <div class="weight-bar">
              <div class="weight-fill" id="fillMarket"></div>
            </div>
            <div class="weight-value" id="valueMarket">20%</div>
          </div>
          <div class="weight-row">
            <label>People</label>
            <div class="weight-bar">
              <div class="weight-fill" id="fillPeople"></div>
            </div>
            <div class="weight-value" id="valuePeople">40%</div>
          </div>
        </div>
        <div class="score-note" id="samplePanel" hidden>
          <div class="tag">Live sample</div>
          <div id="sampleName"></div>
          <div id="sampleVerdict"></div>
        </div>
      </div>
    </section>

    <section class="panel pillars-section">
      <h2>Pillars</h2>
      <div class="grid-pillars">
        <div class="pillars" role="tablist" aria-label="CAMP pillars">
          <button class="tab active" data-pillar="capital" role="tab" aria-selected="true"><strong>Capital</strong><span>Financial discipline</span></button>
          <button class="tab" data-pillar="advantage" role="tab" aria-selected="false"><strong>Advantage</strong><span>Compounding edge</span></button>
          <button class="tab" data-pillar="market" role="tab" aria-selected="false"><strong>Market</strong><span>Scale &amp; urgency</span></button>
          <button class="tab" data-pillar="people" role="tab" aria-selected="false"><strong>People</strong><span>Execution gravity</span></button>
        </div>
        <article id="pillarCard" style="display:grid;gap:18px">
          <div class="title" id="pillarTitle" style="font-size:26px"></div>
          <div class="copy" id="pillarSummary" style="max-width:none"></div>
          <ul class="metrics" id="pillarMetrics"></ul>
        </article>
      </div>
    </section>

    <section class="panel">
      <h2>Live model snapshots</h2>
      <div class="samples" id="sampleGrid"></div>
    </section>

    <section class="panel">
      <h2>Improvement cadence</h2>
      <div class="timeline" id="timeline"></div>
    </section>

    <section class="cta">
      <h2>See your CAMP profile before you pitch.</h2>
      <p>Ten minutes. Precision feedback. The same analysis powering the Flash Fund underwriting desk.</p>
      <a href="https://flashintelligence.co" rel="noopener">Begin Analysis</a>
    </section>

    <footer>© 2025 Flash. All rights reserved.</footer>
  </div>

  <script>
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const root = document.documentElement;

    if (!prefersReducedMotion) {
      const pointerDefaults = () => {
        root.style.setProperty('--pointer-x', '52%');
        root.style.setProperty('--pointer-y', '28%');
      };
      pointerDefaults();
      let pointerFrame;
      const updatePointer = (event) => {
        if (pointerFrame) {
          cancelAnimationFrame(pointerFrame);
        }
        pointerFrame = requestAnimationFrame(() => {
          const width = window.innerWidth || 1;
          const height = window.innerHeight || 1;
          const x = ((event.clientX ?? width / 2) / width) * 100;
          const y = ((event.clientY ?? height / 2) / height) * 100;
          root.style.setProperty('--pointer-x', `${x.toFixed(2)}%`);
          root.style.setProperty('--pointer-y', `${(y * 0.85).toFixed(2)}%`);
        });
      };
      window.addEventListener('pointermove', updatePointer, { passive: true });
    }

    const pillarData = {
      capital: {
        title: 'Capital — financial discipline',
        summary: 'Efficiency is the first proof of judgement. CAMP measures burn multiple, runway resilience, investor quality, and how gracefully you scale spend.',
        metrics: [
          'Monthly burn, runway scenarios, capital efficiency',
          'Signal quality of investors currently backing you',
          'Speed of turning new dollars into shipped product'
        ]
      },
      advantage: {
        title: 'Advantage — compounding edge',
        summary: 'Defensibility that compounds. Proprietary data, switching costs, network effects, and margin expansion as adoption grows.',
        metrics: [
          'Depth of IP, data moats, or exclusive distribution',
          'Customer switching costs and retention flywheels',
          'Evidence pricing power increases with scale'
        ]
      },
      market: {
        title: 'Market — scale and urgency',
        summary: 'We map TAM and velocity, but we obsess over urgency—are customers desperate for the problem you solve? Retention and expansion tell the truth.',
        metrics: [
          'Segment velocity, expansion, and net revenue retention',
          'Buyer urgency measured through engagement and payback',
          'Competitive density and share capture momentum'
        ]
      },
      people: {
        title: 'People — execution gravity',
        summary: 'Founder-market fit, hiring magnetism, and operating cadence. CAMP reads how fast insight becomes product and how resilient the team is under stress.',
        metrics: [
          'Iteration tempo, shipping cadence, learning velocity',
          'Quality of hires, advisors, and operating cadence',
          'Founder grit and clarity of the company narrative'
        ]
      }
    };

    const pillarButtons = Array.from(document.querySelectorAll('.pillars .tab'));
    const pillarTitle = document.getElementById('pillarTitle');
    const pillarSummary = document.getElementById('pillarSummary');
    const pillarMetrics = document.getElementById('pillarMetrics');

    function setPillar(key) {
      const data = pillarData[key];
      if (!data) return;
      pillarButtons.forEach((btn) => {
        const active = btn.dataset.pillar === key;
        btn.classList.toggle('active', active);
        btn.setAttribute('aria-selected', active ? 'true' : 'false');
      });
      pillarTitle.textContent = data.title;
      pillarSummary.textContent = data.summary;
      pillarMetrics.innerHTML = data.metrics.map((item) => `<li>${item}</li>`).join('');
    }

    pillarButtons.forEach((btn) => {
      btn.addEventListener('click', () => setPillar(btn.dataset.pillar));
      btn.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          setPillar(btn.dataset.pillar);
        }
      });
    });
    setPillar('capital');

    const timelineSteps = [
      {
        title: 'Weeks 1-2',
        copy: 'Baseline CAMP, align the founding team, and reframe the deck around what investors will actually weigh.'
      },
      {
        title: 'Weeks 3-4',
        copy: 'Execute the top two fixes from the action plan. Re-run the analysis to prove motion and tighten the story.'
      },
      {
        title: 'Weeks 5-6',
        copy: 'Layer in efficiency metrics, sharpen retention, and tee up conversations with investors who match your profile.'
      },
      {
        title: 'Weeks 7+',
        copy: 'Score crosses 75. Unlock FLASH Fund access, partner interviews, and a roadmap for your next raise.'
      }
    ];

    const timeline = document.getElementById('timeline');
    let timelineItems = [];
    let timelineIndex = 0;
    let timelineTimer;

    function activateTimeline(index, options = {}) {
      const { fromAuto = false } = options;
      if (!timelineItems.length) return;
      timelineItems.forEach((node, idx) => {
        node.classList.toggle('active', idx === index);
      });
      timelineIndex = index;
      if (!fromAuto) {
        scheduleTimelineCycle();
      }
    }

    function scheduleTimelineCycle() {
      clearInterval(timelineTimer);
      if (prefersReducedMotion || timelineItems.length <= 1) {
        return;
      }
      timelineTimer = setInterval(() => {
        const next = (timelineIndex + 1) % timelineItems.length;
        activateTimeline(next, { fromAuto: true });
      }, 9000);
    }

    if (timeline) {
      timeline.innerHTML = timelineSteps
        .map((step) => `<div class="timeline-step"><strong>${step.title}</strong><p>${step.copy}</p></div>`)
        .join('');
      timelineItems = Array.from(timeline.querySelectorAll('.timeline-step'));
      if (timelineItems.length) {
        activateTimeline(0, { fromAuto: true });
        scheduleTimelineCycle();
      }
    }

    const stages = [
      {
        label: 'Pre-Seed Focus',
        score: 68,
        narrative: 'Momentum begins with founders. Show weekly product motion, early retention sparks, and relentless learning.',
        weights: { capital: 10, advantage: 30, market: 20, people: 40 }
      },
      {
        label: 'Seed Focus',
        score: 74,
        narrative: 'Proof of adoption. Investors expect data-led storytelling, improving efficiency, and a clear path to repeatable growth.',
        weights: { capital: 18, advantage: 30, market: 27, people: 25 }
      },
      {
        label: 'Series A Focus',
        score: 82,
        narrative: 'Scale responsibly. Market velocity and capital discipline dominate—CAMP shows exactly where efficiency must tighten.',
        weights: { capital: 28, advantage: 24, market: 30, people: 18 }
      },
      {
        label: 'Series B+ Focus',
        score: 88,
        narrative: 'Operational mastery. You are graded on ownership of your segment, efficient growth, and resilience under pressure.',
        weights: { capital: 36, advantage: 20, market: 28, people: 16 }
      }
    ];

    const stageButtons = Array.from(document.querySelectorAll('.segmented button'));
    const stageLabel = document.getElementById('stageLabel');
    const stageScore = document.getElementById('stageScore');
    const fillCapital = document.getElementById('fillCapital');
    const fillAdvantage = document.getElementById('fillAdvantage');
    const fillMarket = document.getElementById('fillMarket');
    const fillPeople = document.getElementById('fillPeople');
    const valueCapital = document.getElementById('valueCapital');
    const valueAdvantage = document.getElementById('valueAdvantage');
    const valueMarket = document.getElementById('valueMarket');
    const valuePeople = document.getElementById('valuePeople');
    const scoreValue = document.getElementById('scoreValue');
    const scoreSummary = document.getElementById('scoreSummary');
    const gauge = document.getElementById('gauge');

    let stageCurrentIndex = 0;
    let stageTimer;
    let gaugeCurrentValue = 0;
    let gaugeAnimationFrame;

    function updateGauge(value) {
      const bounded = Math.max(0, Math.min(100, value));
      const angle = Math.round((bounded / 100) * 360);
      scoreValue.textContent = Math.round(bounded).toString();
      gauge.style.setProperty('--angle', `${angle}deg`);
    }

    function animateGauge(target) {
      if (prefersReducedMotion) {
        gaugeCurrentValue = target;
        updateGauge(target);
        return;
      }
      cancelAnimationFrame(gaugeAnimationFrame);
      const startValue = gaugeCurrentValue;
      const delta = target - startValue;
      const duration = 900;
      const startTime = performance.now();

      const step = (currentTime) => {
        const progress = Math.min(1, (currentTime - startTime) / duration);
        const eased = 1 - Math.pow(1 - progress, 3);
        const value = startValue + delta * eased;
        updateGauge(value);
        if (progress < 1) {
          gaugeAnimationFrame = requestAnimationFrame(step);
        } else {
          gaugeCurrentValue = target;
        }
      };

      gaugeAnimationFrame = requestAnimationFrame(step);
    }

    function scheduleStageCycle() {
      clearInterval(stageTimer);
      if (prefersReducedMotion || stages.length <= 1) {
        return;
      }
      stageTimer = setInterval(() => {
        const next = (stageCurrentIndex + 1) % stages.length;
        setStage(next, { fromAuto: true });
      }, 8000);
    }

    function setStage(index, options = {}) {
      const { fromAuto = false } = options;
      const stage = stages[index] || stages[0];
      stageCurrentIndex = index;
      stageLabel.textContent = stage.label;
      stageScore.textContent = `Target Score • ${stage.score}`;
      scoreSummary.textContent = stage.narrative;
      fillCapital.style.width = `${stage.weights.capital}%`;
      fillAdvantage.style.width = `${stage.weights.advantage}%`;
      fillMarket.style.width = `${stage.weights.market}%`;
      fillPeople.style.width = `${stage.weights.people}%`;
      valueCapital.textContent = `${stage.weights.capital}%`;
      valueAdvantage.textContent = `${stage.weights.advantage}%`;
      valueMarket.textContent = `${stage.weights.market}%`;
      valuePeople.textContent = `${stage.weights.people}%`;
      stageButtons.forEach((btn, idx) => {
        const active = idx === index;
        btn.classList.toggle('active', active);
        btn.setAttribute('aria-selected', active ? 'true' : 'false');
      });
      animateGauge(stage.score);
      if (!fromAuto) {
        scheduleStageCycle();
      }
    }

    stageButtons.forEach((btn) => {
      const index = Number(btn.dataset.stage);
      btn.addEventListener('click', () => setStage(index));
      btn.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          setStage(index);
        }
      });
    });

    updateGauge(0);
    setStage(0, { fromAuto: true });
    scheduleStageCycle();

    const sampleGrid = document.getElementById('sampleGrid');
    const samplePanel = document.getElementById('samplePanel');
    const sampleName = document.getElementById('sampleName');
    const sampleVerdict = document.getElementById('sampleVerdict');
    const stageIndexMap = {
      'pre-seed': 0,
      seed: 1,
      series_a: 2,
      series_b: 3,
      series_c: 3
    };

    const sampleContext = { samples: [], cards: [] };
    let sampleIndex = 0;
    let sampleTimer;

    const pct = (value) => `${(value * 100).toFixed(1)}%`;

    function scheduleSampleCycle() {
      clearInterval(sampleTimer);
      if (prefersReducedMotion || sampleContext.samples.length <= 1) {
        return;
      }
      sampleTimer = setInterval(() => {
        if (!sampleContext.samples.length) return;
        const next = (sampleIndex + 1) % sampleContext.samples.length;
        activateSample(next, { fromAuto: true });
      }, 9000);
    }

    function activateSample(index, options = {}) {
      const { fromAuto = false } = options;
      const samples = sampleContext.samples;
      const cards = sampleContext.cards;
      if (!samples.length) return;
      const sample = samples[index];
      if (!sample) return;
      const targetStage = stageIndexMap[sample.stage] ?? 0;
      setStage(targetStage, { fromAuto });
      samplePanel.hidden = false;
      sampleName.textContent = `${sample.name} • ${sample.stage.toUpperCase()} • ${sample.sector.toUpperCase()}`;
      sampleVerdict.textContent = `${pct(sample.success_probability)} success • ${sample.verdict}`;
      cards.forEach((card, idx) => {
        card.classList.toggle('active', idx === index);
      });
      sampleIndex = index;
      if (!fromAuto) {
        scheduleSampleCycle();
      }
    }

    fetch('assets/camp-sample-predictions.json')
      .then((response) => response.json())
      .then((samples) => {
        if (!Array.isArray(samples) || !samples.length) {
          sampleGrid.innerHTML = '<div class="instrument-copy">Sample predictions offline.</div>';
          return;
        }

        sampleContext.samples = samples;
        sampleGrid.innerHTML = samples.map((sample) => `
          <div class="sample-card" tabindex="0">
            <div class="sample-meta">${sample.stage.toUpperCase()} • ${sample.sector.toUpperCase()}</div>
            <h3>${sample.name}</h3>
            <div class="sample-prob">${pct(sample.success_probability)}</div>
            <div class="small">${sample.verdict}</div>
          </div>
        `).join('');

        const cards = Array.from(document.querySelectorAll('.sample-card'));
        sampleContext.cards = cards;
        cards.forEach((card, idx) => {
          const trigger = () => activateSample(idx);
          card.addEventListener('click', trigger);
          card.addEventListener('mouseenter', trigger);
          card.addEventListener('focus', trigger);
          card.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' || event.key === ' ') {
              event.preventDefault();
              activateSample(idx);
            }
          });
        });

        activateSample(0, { fromAuto: true });
        scheduleSampleCycle();
      })
      .catch((error) => {
        console.error('Unable to load CAMP samples', error);
        sampleGrid.innerHTML = '<div class="instrument-copy">Live samples temporarily unavailable.</div>';
      });

    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        clearInterval(stageTimer);
        clearInterval(sampleTimer);
        clearInterval(timelineTimer);
      } else {
        scheduleStageCycle();
        scheduleSampleCycle();
        scheduleTimelineCycle();
      }
    });
  </script>

</body>
</html>
